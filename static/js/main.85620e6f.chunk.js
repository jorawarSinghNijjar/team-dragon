(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{159:function(e,a,t){e.exports=t(231)},166:function(e,a,t){},228:function(e,a){},231:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(12),l=t.n(c),o=t(296),i=t(3),m=r.a.createContext(),s=r.a.createContext(),u=r.a.createContext(),d=r.a.createContext(),p=r.a.createContext(),g=r.a.createContext();function f(){return Object(n.useContext)(m)}function b(){return Object(n.useContext)(s)}function h(){return Object(n.useContext)(u)}function E(){return Object(n.useContext)(d)}function v(){return Object(n.useContext)(p)}function y(){return Object(n.useContext)(g)}function j(e){var a=e.children,t=Object(n.useState)([]),c=Object(i.a)(t,2),l=c[0],o=c[1],f=Object(n.useMemo)((function(){return[l,o]}),[l,o]),b=Object(n.useState)((function(){return Number(window.localStorage.getItem("newGame")||null)})),h=Object(i.a)(b,2),E=h[0],v=h[1],y=Object(n.useMemo)((function(){return[E,v]}),[E,v]),j=Object(n.useState)([]),O=Object(i.a)(j,2),x=O[0],w=O[1],S=Object(n.useMemo)((function(){return[x,w]}),[x,w]),k=Object(n.useState)({blue:"",red:""}),N=Object(i.a)(k,2),C=N[0],I=N[1],T=Object(n.useMemo)((function(){return[C,I]}),[C,I]),M=Object(n.useState)(""),B=Object(i.a)(M,2),D=B[0],G=B[1],P=Object(n.useMemo)((function(){return[D,G]}),[D,G]),F=Object(n.useState)(""),L=Object(i.a)(F,2),W=L[0],z=L[1],R=Object(n.useMemo)((function(){return[W,z]}),[W,z]);return r.a.createElement(s.Provider,{value:y},r.a.createElement(m.Provider,{value:f},r.a.createElement(u.Provider,{value:S},r.a.createElement(d.Provider,{value:T},r.a.createElement(p.Provider,{value:P},r.a.createElement(g.Provider,{value:R},a))))))}var O=r.a.createContext();function x(){return Object(n.useContext)(O)}function w(e){var a=e.children,t=Object(n.useState)("setup"),c=Object(i.a)(t,2),l=c[0],o=c[1],m=Object(n.useMemo)((function(){return[l,o]}),[l,o]);return r.a.createElement(O.Provider,{value:m},a)}var S=r.a.createContext();function k(){return Object(n.useContext)(S)}function N(e){var a=e.children,t=Object(n.useState)(null),c=Object(i.a)(t,2),l=c[0],o=c[1],m=Object(n.useMemo)((function(){return[l,o]}),[l,o]);return r.a.createElement(S.Provider,{value:m},a)}var C=r.a.createContext(),I=function(){return r.a.useContext(C)},T=r.a.createContext(),M=function(){return r.a.useContext(T)},B=function(e){var a=r.a.useState(!1),t=Object(i.a)(a,2),n=t[0],c=t[1],l=r.a.useMemo((function(){return[n,c]}),[n,c]),o=r.a.useState(""),m=Object(i.a)(o,2),s=m[0],u=m[1],d=r.a.useMemo((function(){return[s,u]}),[s,u]);return r.a.createElement(C.Provider,{value:l},r.a.createElement(T.Provider,{value:d},e.children))},D=t(143),G={red:{light:"#e6918a",medium:"#f86255"},blue:{light:"#72b2ed",medium:"#3a98f1"},grey:{superLight:"#f8f7f6",light:"#ebf1f8",medium:"#ebebeb",mediumDark:"#bfbfbf",dark:"#5d5d5d"},white:"#ffffff",black:"#000000"},P=Object(D.a)({typography:{fontFamily:"Roboto",fontSize:12,button:{textTransform:"none"},h1:{fontSize:"2rem",fontWeight:600,padding:0,margin:0},h3:{fontSize:"1.1rem",fontWeight:600,padding:0,margin:0}},red:G.red,blue:G.blue,grey:G.grey,white:G.white,black:G.black,palette:{primary:{main:"#32be72",contrastText:"#fff"},secondary:{main:"#44456c",contrastText:"#fff"}}}),F=(t(166),t(11)),L=t.n(F),W=t(16),z=t(21),R=t(13),A=t(17),H=t.n(A),U=t(52),q=t(297),Y=t(48),J=t(275),$=Object(J.a)((function(e){return{NavBar:{width:"100%",height:"12vh",background:e.white},NavBarWrap:{width:"90%",height:"100%",margin:"0 auto",display:"flex",justifyContent:"space-between",alignItems:"center"},Brand:{textTransform:"uppercase",letterSpacing:"0.6rem","& a":{textDecoration:"none",color:"black"}},ProfileItem:{margin:"0 .5rem"},Profile:{display:"flex","&:hover":{cursor:"pointer"}}}})),_=t(304),K=t(278),Q=t(301),V=t(280),X=t(75),Z=t.n(X),ee=Object(J.a)((function(e){return{ProfileItem:{margin:"0 .5rem"},UserName:{margin:"0 .5rem",fontFamily:"'Sansita Swashed', cursive",fontWeight:"bold"},Profile:{display:"flex",flexDirection:"row",alignItems:"center","&:hover":{cursor:"pointer"}}}})),ae=function(e){var a=ee(),t=x(),c=Object(i.a)(t,2)[1],l=k(),o=Object(i.a)(l,2),m=o[0],s=o[1],u=Object(n.useState)(""),d=Object(i.a)(u,2),p=d[0],g=d[1],f=Object(n.useState)(!1),b=Object(i.a)(f,2),h=b[0],E=b[1],v=Object(n.useState)(""),y=Object(i.a)(v,2),j=y[0],O=y[1];Object(n.useEffect)((function(){m&&g(m.profileImageLocation)}),[m]);var w=function(){var a=Object(W.a)(L.a.mark((function a(){var t;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!m){a.next=11;break}return s(null),c("setup"),a.next=5,H.a.post("/users/logout");case 5:t=a.sent,O(t.data.message),E(!0),e.history.push("/"),a.next=12;break;case 11:e.history.push("/login");case 12:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return r.a.createElement(q.a,{className:a.Profile},m?r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{src:p||"",onClick:function(){e.history.push("/edit-profile")},className:a.ProfileItem}),r.a.createElement(Y.a,{color:"secondary",className:a.UserName},m.name)):null,r.a.createElement(K.a,{variant:"outlined",color:"primary",className:a.ProfileItem,onClick:w},r.a.createElement(Y.a,null,m?"Logout":"Login")),r.a.createElement(Q.a,{open:h,autoHideDuration:6e3,onClose:function(){return E(!1)},message:j,action:r.a.createElement(V.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){return E(!1)}},r.a.createElement(Z.a,{fontSize:"small"}))}))},te=Object(R.i)((function(e){var a=$(),t=x();return"setup"===Object(i.a)(t,1)[0]?r.a.createElement("nav",{className:a.NavBar},r.a.createElement(q.a,{className:a.NavBarWrap},r.a.createElement(Y.a,{className:a.Brand,variant:"h3"},r.a.createElement(z.b,{to:"/"},"Cluewords")),r.a.createElement(ae,{history:e.history}))):null})),ne=t(144),re=function(e){var a=e.component,t=Object(ne.a)(e,["component"]),n=k(),c=Object(i.a)(n,1)[0];return r.a.createElement(R.b,Object.assign({},t,{render:function(e){return c?r.a.createElement(a,e):r.a.createElement(R.a,{to:"/login?redirect=".concat(e.location.pathname)})}}))},ce=function(){var e=I(),a=Object(i.a)(e,2),t=a[0],n=a[1],c=M(),l=Object(i.a)(c,1)[0];return r.a.createElement(Q.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:t,autoHideDuration:6e3,onClose:function(){return n(!1)},message:l,action:r.a.createElement(V.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){return n(!1)}},r.a.createElement(Z.a,{fontSize:"small"}))})},le=t(282),oe=t(281),ie=t(302),me=t(286),se=t(284),ue=t(285),de=t(283),pe=Object(J.a)((function(e){return{Landing:{paddingTop:e.spacing(4)},Card:{padding:"2rem",textAlign:"center"},Heading:{marginBottom:"2rem"},Button:{margin:"0 1rem"}}})),ge=function(e){var a=pe(),t=b(),c=Object(i.a)(t,2)[1],l=k(),o=Object(i.a)(l,1)[0],m=Object(n.useState)(!1),s=Object(i.a)(m,2),u=s[0],d=s[1],p=Object(n.useState)(""),g=Object(i.a)(p,2),f=g[0],h=g[1],E=function(){d(!1),e.history.push("/login")},v=function(){var a=Object(W.a)(L.a.mark((function a(){var t;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,H.a.post("/create-game");case 3:if(!(t=a.sent).data.error){a.next=8;break}return h(t.data.error),d(!0),a.abrupt("return",null);case 8:return a.next=10,c(1);case 10:return a.next=12,e.history.push(String(t.data.game.id));case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),console.log(a.t0);case 17:case"end":return a.stop()}}),a,null,[[0,14]])})));return function(){return a.apply(this,arguments)}}();return r.a.createElement(oe.a,{className:a.Landing,maxWidth:"md"},r.a.createElement(le.a,{className:a.Card},r.a.createElement(Y.a,{className:a.Heading,variant:"h2"},"Welcome to Cluewords!"),o?r.a.createElement(K.a,{className:a.Button,onClick:v,variant:"contained",color:"primary",size:"large"},"Create Game"):r.a.createElement(K.a,{className:a.Button,component:z.b,to:"/register",variant:"contained",color:"primary",size:"large"},"Sign Up")),r.a.createElement(ie.a,{open:u,onClose:E},r.a.createElement(de.a,null,f),r.a.createElement(se.a,null,r.a.createElement(ue.a,null,"Look's like you are not signed in yet!")),r.a.createElement(me.a,null,r.a.createElement(K.a,{onClick:E,color:"primary",autoFocus:!0},"Sign in"))))},fe=t(78),be=t.n(fe),he=t(287),Ee=Object(J.a)((function(e){return{Register:{paddingTop:e.spacing(4)},FormContainer:{padding:"2rem 4rem"},Form:{display:"flex",flexDirection:"column",alignItems:"center"},TextField:{fontFamily:e.fontFamily,margin:"1rem 0"},Button:{margin:"1rem 0"}}})),ve=function(e){var a=Ee(),t=k(),c=Object(i.a)(t,2)[1],l=Object(n.useState)(""),o=Object(i.a)(l,2),m=o[0],s=o[1],u=Object(n.useState)(""),d=Object(i.a)(u,2),p=d[0],g=d[1],f=Object(n.useState)(""),b=Object(i.a)(f,2),h=b[0],E=b[1],v=Object(n.useState)(!1),y=Object(i.a)(v,2),j=y[0],O=y[1],x=Object(n.useState)({}),w=Object(i.a)(x,2),S=w[0],N=w[1],C=be.a.parse(e.location.search).redirect||"/",I=function(){var a=Object(W.a)(L.a.mark((function a(t){var n,r,l,o;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),O(!0),a.prev=2,a.next=5,H.a.post("/users/register",{name:m,email:p,password:h,password2:h});case 5:n=a.sent,r=n.data,l=Object(U.a)(r.token),c({id:l.id,email:l.email,name:l.name}),H.a.defaults.headers.common.Authorization="Bearer ".concat(r.token),e.history.push(C),e.history.go(),a.next=18;break;case 14:a.prev=14,a.t0=a.catch(2),a.t0.response?(o=a.t0.response.data,N(o.errors)):console.log(a.t0.message),O(!1);case 18:case"end":return a.stop()}}),a,null,[[2,14]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(oe.a,{className:a.Register,maxWidth:"sm"},r.a.createElement(le.a,{className:a.FormContainer},r.a.createElement("form",{className:a.Form,onSubmit:I},r.a.createElement(Y.a,{variant:"h3"},"Sign Up"),r.a.createElement(he.a,{className:a.TextField,required:!0,fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!0},label:"Name:",type:"text",id:"name",name:"name",placeholder:"Enter your name",value:m,onChange:function(e){return s(e.target.value)},error:void 0!==S.name,helperText:S.name}),r.a.createElement(he.a,{className:a.TextField,required:!0,fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!0},label:"Email:",type:"email",id:"email",name:"email",placeholder:"Enter your email",value:p,onChange:function(e){return g(e.target.value)},error:void 0!==S.email,helperText:S.email}),r.a.createElement(he.a,{className:a.TextField,required:!0,fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!0},label:"Password:",type:"password",id:"password",name:"password",placeholder:"Enter your password",value:h,onChange:function(e){return E(e.target.value)},error:void 0!==S.password,helperText:S.password}),r.a.createElement(K.a,{className:a.Button,variant:"contained",color:"primary",size:"large",type:"submit",disabled:j||!(m.length>0&&p.length>0&&h.length>0)},"Sign Up"),r.a.createElement(Y.a,{variant:"body1"},"Already have an account?"," ",r.a.createElement(z.b,{to:"/login?redirect=".concat(C)},"Sign In")))))},ye=Object(J.a)((function(e){return{Login:{paddingTop:e.spacing(4)},FormContainer:{padding:"2rem 4rem"},Form:{display:"flex",flexDirection:"column",alignItems:"center"},TextField:{fontFamily:e.fontFamily,margin:"1rem 0"},Button:{margin:"1rem 0"}}})),je=function(e){var a=ye(),t=k(),c=Object(i.a)(t,2)[1],l=Object(n.useState)(""),o=Object(i.a)(l,2),m=o[0],s=o[1],u=Object(n.useState)(""),d=Object(i.a)(u,2),p=d[0],g=d[1],f=Object(n.useState)(!1),b=Object(i.a)(f,2),h=b[0],E=b[1],v=Object(n.useState)({}),y=Object(i.a)(v,2),j=y[0],O=y[1],x=be.a.parse(e.location.search).redirect||"/",w=function(){var a=Object(W.a)(L.a.mark((function a(t){var n,r,l,o;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),E(!0),a.prev=2,a.next=5,H.a.post("/users/login",{email:m,password:p},{withCredentials:!0});case 5:n=a.sent,r=n.data,l=Object(U.a)(r.token),c({id:l.id,email:l.email,name:l.name,profileImageLocation:l.profileImageLocation}),H.a.defaults.headers.common.Authorization="Bearer ".concat(r.token),e.history.push(x),e.history.go(),a.next=18;break;case 14:a.prev=14,a.t0=a.catch(2),a.t0.response?(console.log(a.t0.response.data),o=a.t0.response.data,O(o.errors)):console.log(a.t0.message),E(!1);case 18:case"end":return a.stop()}}),a,null,[[2,14]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(oe.a,{className:a.Login,maxWidth:"sm"},r.a.createElement(le.a,{className:a.FormContainer},r.a.createElement("form",{className:a.Form,onSubmit:w},r.a.createElement(Y.a,{variant:"h3"},"Sign In"),r.a.createElement(he.a,{className:a.TextField,required:!0,fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!0},label:"Email:",type:"email",id:"email",name:"email",placeholder:"Enter your email",value:m,onChange:function(e){return s(e.target.value)},error:void 0!==j.email,helperText:j.email}),r.a.createElement(he.a,{className:a.TextField,required:!0,fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!0},label:"Password:",type:"password",id:"password",name:"password",placeholder:"Enter your password",value:p,onChange:function(e){return g(e.target.value)},error:void 0!==j.password,helperText:j.password}),r.a.createElement(K.a,{className:a.Button,variant:"contained",color:"primary",size:"large",type:"submit",disabled:h||!(m.length>0&&p.length>0)},"Sign In"),r.a.createElement(Y.a,{variant:"body1"},"Don't have an account?"," ",r.a.createElement(z.b,{to:"/register?redirect=".concat(x)},"Sign Up")))))},Oe=t(45),xe=t(239),we=t(289),Se=t(290),ke=t(291),Ne=t(288),Ce=t(136),Ie=t.n(Ce),Te=t(135),Me=t.n(Te),Be=Object(J.a)((function(e){return{invite:{background:e.grey.dark,color:e.white},item:{padding:0}}})),De=function(){var e=f(),a=Object(i.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(""),o=Object(i.a)(l,2),m=o[0],s=o[1],u=Object(n.useState)({error:!1,message:""}),d=Object(i.a)(u,2),p=d[0],g=d[1],b=Be(),h=t.map((function(e,a){return r.a.createElement(xe.a,{className:b.item,key:a},r.a.createElement(we.a,null,r.a.createElement(Ie.a,{color:"primary"})),r.a.createElement(Se.a,{primary:e}))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{variant:"h3"},"Invite friends via email:"),r.a.createElement(q.a,{mt:".8rem"},r.a.createElement("form",{className:b.form,onSubmit:function(e){if(e.preventDefault(),""!==m)return t.includes(m)?(g({error:!0,message:"User already invited"}),void s("")):void(Me()(m)?(g({error:!1,message:""}),c([].concat(Object(Oe.a)(t),[m])),s("")):g({error:!0,message:"Not a valid email address"}));g({error:!1,message:""})}},r.a.createElement(he.a,{label:"Email Address",variant:"outlined",value:m,error:!0===p.error,helperText:p.message,onChange:function(e){return s(e.target.value)},InputProps:{endAdornment:r.a.createElement(ke.a,{position:"end"},r.a.createElement(K.a,{variant:"contained",className:b.invite,type:"submit"},"Add"))}})),t.length>0&&r.a.createElement("div",null,r.a.createElement(Ne.a,null,h))))},Ge=t(292),Pe=t(138),Fe=t.n(Pe),Le=t(137),We=Object(J.a)((function(e){return{copy:{background:e.white},copyConfirm:{color:e.palette.primary.main}}})),ze=function(e){var a=We(),t=Object(R.h)().id,c=Object(n.useState)({value:"",copied:!1}),l=Object(i.a)(c,2),o=l[0],m=l[1];return Object(n.useEffect)((function(){m({value:window.location.href,copied:!1})}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ge.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(Y.a,{variant:"h3"},"Or share link:"),r.a.createElement(q.a,{my:".8rem"},r.a.createElement(Le.CopyToClipboard,{text:o.value,onCopy:function(){return m({value:window.location.href,copied:!0})}},r.a.createElement(K.a,{startIcon:r.a.createElement(Fe.a,null),variant:"contained",className:a.copy},"Copy"))),o.copied?r.a.createElement("span",{className:a.copyConfirm},"Copied."):null))},Re=t(293),Ae=Object(J.a)((function(e){return{inviteSection:{margin:"2rem"}}})),He=function(e){var a=Ae();return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{mt:5,minHeight:170},r.a.createElement(Ge.a,{container:!0,spacing:3,alignItems:"center",className:a.inviteSection},r.a.createElement(Ge.a,{item:!0,xs:7},r.a.createElement(De,null)),r.a.createElement(Re.a,{orientation:"vertical",flexItem:!0}),r.a.createElement(Ge.a,{item:!0,xs:!0},r.a.createElement(ze,null)))))},Ue=t(140),qe=t.n(Ue),Ye=t(139),Je=t.n(Ye)()("https://cluewords-api.herokuapp.com/"),$e=Object(J.a)((function(e){return{item:{padding:0}}})),_e=function(e){var a=x(),t=Object(i.a)(a,2)[1],c=h(),l=Object(i.a)(c,2),o=l[0],m=l[1],s=v(),u=Object(i.a)(s,2)[1],d=y(),p=Object(i.a)(d,2)[1],g=Object(R.h)().id,f=$e();Object(n.useEffect)((function(){console.log("joining game",g),Je.emit("join-game",{gameId:g}),Je.on("update-players",(function(e){console.log("Updated players:",e.players),t(e.gameStatus),m(e.players),p(e.host._id),u(e.host.name)}))}),[g,p,u,m,t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{height:200},r.a.createElement(Y.a,{variant:"h3"},"Players Joined:"),r.a.createElement(Ne.a,null,o.map((function(e,a){return r.a.createElement(xe.a,{className:f.item,key:a},r.a.createElement(we.a,null,r.a.createElement(qe.a,{color:"primary"})),r.a.createElement(Se.a,{primary:e.name}))})))))},Ke=t(299),Qe=t(235),Ve=t(237),Xe=t(303),Ze=t(294),ea=t(5),aa=t(82),ta=t(81),na=Object(J.a)((function(e){return{playerLabel:function(a){return{color:3===a?e.grey.dark:e.grey.mediumDark,fontSize:"1.1rem",marginBottom:".5rem"}}}})),ra=aa.a[500],ca=ta.a[500],la=Object(ea.a)({root:{color:ra,"&$checked":{color:ra}},checked:{}})((function(e){return r.a.createElement(Ke.a,Object.assign({color:"default"},e))})),oa=Object(ea.a)({root:{color:ca,"&$checked":{color:ca}},checked:{}})((function(e){return r.a.createElement(Ke.a,Object.assign({color:"default"},e))})),ia=function(e){var a=na(e.newGame);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qe.a,{component:"fieldset"},r.a.createElement(Ve.a,{className:a.playerLabel,component:"legend"},e.player.name),r.a.createElement(Xe.a,{"aria-label":"team",name:"team1",value:e.player.team||"",onChange:function(a){var t=e.player,n=t.id,r=t.name,c=e.players;c[e.ele]={id:n,name:r,team:a.target.value},e.setPlayers(Object(Oe.a)(c))}},r.a.createElement(Ze.a,{value:"blue",control:r.a.createElement(la,null),label:"Blue Team",disabled:3!==e.newGame}),r.a.createElement(Ze.a,{value:"red",control:r.a.createElement(oa,null),label:"Red Team",disabled:3!==e.newGame}))))},ma=t(32),sa=t(295),ua=t(236),da=t(241),pa=t(238),ga=Object(J.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectRedEmpty:function(a){return{backgroundColor:4===a?e.red.light:e.grey.medium,marginTop:e.spacing(2)}},selectBlueEmpty:function(a){return{backgroundColor:4===a?e.blue.light:e.grey.medium,marginTop:e.spacing(2)}},redHelper:function(a){return{color:4===a?e.red.medium:e.grey.medium}},blueHelper:function(a){return{color:4===a?e.blue.medium:e.grey.medium}}}})),fa=function(e){var a=ga(e.newGame),t=Object(n.useCallback)((function(){return e.team.length<1?r.a.createElement(sa.a,{value:"empty"},"Empty"):e.team.map((function(e,a){return r.a.createElement(sa.a,{key:a,value:e.id},e.name)}))}),[e.team]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(Qe.a,{variant:"outlined",className:a.formControl},r.a.createElement(ua.a,{shrink:!0,id:"demo-simple-select-placeholder-label-label"},"SpyMaster"),r.a.createElement(da.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:"red"===e.color?e.spyMaster.red:e.spyMaster.blue,onChange:function(a){"red"===e.color&&e.setSpyMaster((function(e){return Object(ma.a)(Object(ma.a)({},e),{},{red:a.target.value})})),"blue"===e.color&&e.setSpyMaster((function(e){return Object(ma.a)(Object(ma.a)({},e),{},{blue:a.target.value})}))},disabled:3===e.newGame,displayEmpty:!0,className:"red"===e.color?a.selectRedEmpty:a.selectBlueEmpty},r.a.createElement(sa.a,{value:""},r.a.createElement("em",null,"Select")),t()),"red"===e.color?r.a.createElement(pa.a,{className:a.redHelper},"Team Red"):r.a.createElement(pa.a,{className:a.blueHelper},"Team Blue"))))},ba=Object(J.a)((function(e){return{disabledTitle:{color:e.grey.mediumDark}}})),ha=function(){var e=h(),a=Object(i.a)(e,2),t=a[0],c=a[1],l=E(),o=Object(i.a)(l,2),m=o[0],s=o[1],u=b(),d=Object(i.a)(u,1)[0],p=ba(),g=Object(n.useCallback)((function(){return t.map((function(e,a){return r.a.createElement(ia,{key:a,ele:a,player:e,players:t,setPlayers:c,spyMaster:m,setSpyMaster:s,newGame:d})}))}),[t,c,m,s,d]),f=Object(n.useCallback)((function(){var e=t.filter((function(e){return"blue"===e.team}));return r.a.createElement(fa,{team:e,color:"blue",spyMaster:m,setSpyMaster:s,newGame:d})}),[t,m,s,d]),v=Object(n.useCallback)((function(){var e=t.filter((function(e){return"red"===e.team}));return r.a.createElement(Ge.a,{item:!0},r.a.createElement(fa,{team:e,color:"red",spyMaster:m,setSpyMaster:s,newGame:d}))}),[t,m,s,d]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{m:3},r.a.createElement(Ge.a,{container:!0,direction:"column",justify:"space-evenly",alignItems:"center"},r.a.createElement(q.a,{mb:"1.5rem"},r.a.createElement(Y.a,{className:3!==d?p.disabledTitle:null,variant:"h3"},"Assign Teams")),r.a.createElement(Ge.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},g()))),r.a.createElement(q.a,{mb:4},r.a.createElement(Ge.a,{container:!0,direction:"column",justify:"space-evenly",alignItems:"center"},r.a.createElement(q.a,{mb:"1.5rem"},r.a.createElement(Y.a,{className:4!==d?p.disabledTitle:null,variant:"h3"},"Assign SpyMaster")),r.a.createElement(Ge.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:4},r.a.createElement(Ge.a,{item:!0},f()),r.a.createElement(Ge.a,{item:!0},v())))))},Ea=Object(J.a)((function(e){return{card:{padding:"2rem",marginTop:"2rem"},titleDivider:{borderTop:"7px solid ".concat(e.palette.primary.main),width:"5rem",marginTop:"1rem"}}})),va=function(e){var a=Ea(),t=b(),c=Object(i.a)(t,2),l=c[0],o=c[1],m=h(),s=Object(i.a)(m,1)[0],u=E(),d=Object(i.a)(u,2),p=d[0],g=d[1],v=f(),y=Object(i.a)(v,2),j=y[0],O=y[1],x=Object(R.h)().id;Object(n.useEffect)((function(){return window.localStorage.setItem("newGame",l)}),[l]);var w=function(){var e=Object(W.a)(L.a.mark((function e(){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(1!==l||j.length<1)){e.next=6;break}return e.next=4,o((function(e){return e+1}));case 4:e.next=16;break;case 6:return e.next=8,H.a.post("/send-email",{emails:j,gameId:x});case 8:if(!(a=e.sent).data.error){e.next=12;break}return console.log("Error:",a.data.error),e.abrupt("return",null);case 12:return e.next=14,O([]);case 14:return e.next=16,o((function(e){return e+1}));case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(W.a)(L.a.mark((function e(){var a,t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=function(e,a){var t=[a.blue,a.red],n=e.map((function(e){return t.includes(e.id)?{id:e.id,name:e.name,team:e.team,spyMaster:!0}:{id:e.id,name:e.name,team:e.team,spyMaster:!1}}));return{gameId:x,players:n}},e.next=4,a(s,p);case 4:t=e.sent,console.log("Emitting start-game:",t),localStorage.removeItem("newGame"),Je.emit("start-game",t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(oe.a,{maxWidth:"md"},r.a.createElement(le.a,{className:a.card},r.a.createElement(q.a,{minHeight:400},r.a.createElement(Y.a,{align:"center",variant:"h1"},"New game"),r.a.createElement(Ge.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(Re.a,{className:a.titleDivider})),function(){switch(l){case 1:return r.a.createElement(He,null);case 2:return r.a.createElement(_e,null);case 3:case 4:return r.a.createElement(ha,null);default:return r.a.createElement("h2",null,"Error. It is likely the New Game component is showing and it shouldn't be.")}}(),r.a.createElement(Ge.a,{container:!0,direction:"row",justify:"center",spacing:2,alignItems:"center"},r.a.createElement(q.a,{mx:2},l<4?r.a.createElement(K.a,{variant:"contained",color:"primary",onClick:w},"Next"):r.a.createElement(K.a,{variant:"contained",color:"primary",onClick:S},"Create Game")),r.a.createElement(q.a,{mx:2},1!==l&&r.a.createElement(K.a,{variant:"contained",color:"secondary",onClick:function(){o((function(e){return e-1})),4===l&&g({blue:"",red:""})}},"Back"))))))},ya=Object(J.a)((function(e){return{card:{padding:"2rem",marginTop:"2rem"},titleDivider:{borderTop:"7px solid ".concat(e.palette.primary.main),width:"5rem",marginTop:"1rem"},host:{color:e.palette.primary.main}}})),ja=function(e){var a=ya(),t=v(),n=Object(i.a)(t,1)[0],c=k(),l=Object(i.a)(c,1)[0];return r.a.createElement(oe.a,{maxWidth:"md"},r.a.createElement(le.a,{className:a.card},r.a.createElement(Y.a,{align:"center",variant:"h1"},"Welcome ",l.name,"!"),r.a.createElement(Ge.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(Re.a,{className:a.titleDivider})),r.a.createElement(q.a,{my:2},r.a.createElement(Y.a,{align:"center",variant:"h3"},"Your host is:"," ",r.a.createElement(q.a,{component:"span",className:a.host},n)," ",r.a.createElement("br",null),"Please wait while they assign the teams.")),r.a.createElement(_e,null)))},Oa=Object(J.a)((function(e){return{NavBar:{width:"100%",height:"100%",background:e.white},NavBarWrap:{width:"90%",height:"100%",margin:"0 auto",display:"flex",justifyContent:"space-between",alignItems:"center"},Brand:{textTransform:"uppercase",letterSpacing:"0.6rem","& a":{textDecoration:"none",color:"black"}},Scoreboard:{display:"flex",alignItems:"center"},BlueScore:function(a){return{padding:"10px",display:"flex",flexDirection:"column",alignItems:"center",color:"blue"===a.currentTurn?e.white:e.blue.medium,background:"blue"===a.currentTurn?e.blue.medium:"none",borderRadius:"5px","& h3":{margin:"0.5rem",fontSize:"1.5rem"}}},RedScore:function(a){return{padding:"10px",display:"flex",flexDirection:"column",alignItems:"center",color:"red"===a.currentTurn?e.white:e.red.medium,background:"red"===a.currentTurn?e.red.medium:"none",borderRadius:"5px","& h3":{margin:"0.5rem",fontSize:"1.5rem"}}},BlueTeam:{color:e.blue.medium,marginRight:"1.5rem",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-end"},RedTeam:{color:e.red.medium,marginLeft:"1.5rem",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start"},SpyMasterText:{fontWeight:900},BarControls:{display:"flex",alignItems:"center"},NewGameButton:{marginRight:"2rem"},EndGameButton:{marginRight:"2rem",backgroundColor:e.red.medium,color:e.white},Profile:{display:"flex",alignItems:"center"}}})),xa=function(e){var a=Oa(e),t=y(),n=Object(i.a)(t,1)[0],c=k(),l=Object(i.a)(c,1)[0];return r.a.createElement("nav",{className:a.NavBar},r.a.createElement(q.a,{className:a.NavBarWrap},r.a.createElement(Y.a,{className:a.Brand,variant:"h3"},r.a.createElement(z.b,{to:"/"},"Cluewords")),r.a.createElement(q.a,{className:a.Scoreboard},r.a.createElement(q.a,{className:a.BlueTeam},r.a.createElement(q.a,null,r.a.createElement(Y.a,{className:a.SpyMasterText,variant:"body1"},"SpyMaster - ",e.teamList.blue.spyMaster)),e.teamList.blue.guesser.map((function(e,a){return r.a.createElement(Y.a,{key:a},e)}))),r.a.createElement(q.a,{className:a.BlueScore},r.a.createElement(Y.a,{variant:"h3"},e.blueScore),r.a.createElement(Y.a,null,"Blue Team")),r.a.createElement(q.a,{display:"flex",justifyContent:"center",padding:"0 10px"},r.a.createElement(Y.a,{variant:"h3"},"-")),r.a.createElement(q.a,{className:a.RedScore},r.a.createElement(Y.a,{variant:"h3"},e.redScore),r.a.createElement(Y.a,null,"Red Team")),r.a.createElement(q.a,{className:a.RedTeam},r.a.createElement(q.a,null,r.a.createElement(Y.a,{className:a.SpyMasterText,variant:"body1"},"SpyMaster - ",e.teamList.red.spyMaster)),e.teamList.red.guesser.map((function(e,a){return r.a.createElement(Y.a,{key:a},e)})))),r.a.createElement(q.a,{className:a.BarControls},l.id===n&&r.a.createElement(K.a,{className:a.EndGameButton,variant:"contained",size:"large",onClick:e.stopGame,disabled:"over"===e.gameStatus},"End Game"),r.a.createElement(ae,{history:e.history}))))},wa=t(300),Sa=Object(J.a)((function(e){return{Messenger:{width:"100%",height:"100%",background:e.grey.superLight,overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:"#537895",backgroundImage:"linear-gradient(0deg, #01579b 0%,  #039be5 74%)"},MessageContainer:function(e){return{padding:"2rem",minHeight:e.isTurn?"calc(65% - 52px)":"65%",maxHeight:e.isTurn?"calc(65% - 52px)":"65%",overflow:"auto"}},Message:{padding:"0.8rem",width:"auto"},MessageSender:{fontSize:"0.9rem",marginBottom:"0.5rem",color:e.grey.light,fontWeight:"bold"},MessageMsg:{margin:0,padding:"1rem",background:e.grey.medium,borderRadius:"0px 15px 15px 15px",display:"inline-block"},MessageMe:{padding:"0.8rem",width:"auto",display:"flex",justifyContent:"flex-end"},MessageMeMsg:{margin:0,padding:"1rem",background:e.red.medium,borderRadius:"15px 15px 0px 15px",color:e.white,display:"inline-block"},MessageInput:{height:"25%",padding:"1rem 1.5rem",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"},Alert:{fontStyle:"italic",color:e.grey.light},YourTurn:{height:"52px",padding:"0.8rem",width:"auto",display:"flex",justifyContent:"center",alignItems:"center",background:e.grey.dark,color:e.white},ChatBar:{width:"100%",height:"3rem",padding:".5rem",backgroundColor:e.palette.primary.main,display:"flex",justifyContent:"center",alignItems:"center",color:"white",zIndex:"5",boxShadow:"0 3px 10px 6px rgba(129,212,250,.6)"},SendButton:{marginLeft:"1rem"},DoneButton:{marginTop:"1rem"},messageInputColor:{color:e.grey.light}}})),ka=function(e){var a=Sa(e),t=r.a.useRef(null),c=Object(n.useState)(""),l=Object(i.a)(c,2),o=l[0],m=l[1];Object(n.useEffect)((function(){t.current.scrollTop=t.current.scrollHeight}),[e.messages]);var s=e.messages.map((function(t){return"alert"===t.sender?r.a.createElement("div",{key:Object(wa.a)(),className:a.Message},r.a.createElement(Y.a,{className:a.Alert},t.message)):t.sender===e.name?r.a.createElement("div",{key:Object(wa.a)(),className:a.MessageMe},r.a.createElement(Y.a,{className:a.MessageMeMsg},t.message)):r.a.createElement("div",{key:Object(wa.a)(),className:a.Message},r.a.createElement(Y.a,{className:a.MessageSender},t.sender,":"),r.a.createElement(Y.a,{className:a.MessageMsg},t.message))}));return r.a.createElement("div",{className:a.Messenger},r.a.createElement(q.a,{className:a.ChatBar},r.a.createElement(Y.a,{variant:"h5"},"Chat")),r.a.createElement(Ne.a,{className:a.MessageContainer,ref:t},s),e.isTurn&&r.a.createElement(Y.a,{className:a.YourTurn},"Make Your Move!"),r.a.createElement(Re.a,null),r.a.createElement("form",{className:a.MessageInput,onSubmit:function(a){a.preventDefault(),o&&o.trim()&&(e.sendMessage(o),m(""))}},r.a.createElement(q.a,{width:"100%",display:"flex",justifyContent:"space-around",alignItems:"center"},r.a.createElement(he.a,{fullWidth:!0,variant:"outlined",type:"text",placeholder:"Type here...",InputProps:{className:a.messageInputColor},value:o,onChange:function(e){return m(e.target.value)}}),r.a.createElement(K.a,{type:"submit",variant:"contained",color:"primary",size:"large",className:a.SendButton},"Send")),e.isSpyMaster&&r.a.createElement(K.a,{fullWidth:!0,variant:"contained",color:"primary",size:"large",onClick:e.changeTurn,disabled:!e.isTurn||e.timeOut,className:a.DoneButton},"Done")))};ka.defaultProps={name:"",isSpyMaster:!1,isTurn:!1,timeOut:!1};var Na=ka,Ca=t(232),Ia=Object(J.a)((function(e){return{playAgainButton:{padding:".5rem 1rem",fontSize:"1.2rem"}}})),Ta=function(e){var a=Ia(),t=Object(R.g)(),n=Object(R.h)().id;return r.a.createElement(K.a,{variant:"contained",color:"primary",onClick:function(){Je.emit("play-again",n),t.push("/".concat(n))},className:a.playAgainButton},"Play again")},Ma=t(141),Ba=Object(J.a)((function(e){return{popUpWindow:{position:"absolute",minWidth:"400px",maxWidth:"500px",height:"50%",minHeight:"400px",left:"50%",top:"40%",transform:"translate(-50%, -50%)",zIndex:"10"},container:{background:Object(Ma.fade)(e.grey.mediumDark,.8),position:"absolute",top:"0",left:"0",width:"100%",height:"100%",zIndex:"5"},content:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%"},skullIcon:{width:"15%"},gameOver:{fontSize:"1.5rem",marginBottom:".8rem"},gameOverText:function(a){return{color:"Blue"===a.endGame.winner?e.blue.medium:e.red.medium}},redScore:{color:e.red.medium},blueScore:{color:e.blue.medium},newGameButton:{padding:".7rem 2.4rem"}}})),Da=function(e){var a=y(),t=Object(i.a)(a,1)[0],n=k(),c=Object(i.a)(n,1)[0],l=Ba(e),o=l.popUpWindow,m=l.container,s=l.content,u=l.skullIcon,d=l.gameOver,p=l.gameOverText,g=l.redScore,f=l.blueScore;return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{className:m},r.a.createElement(Ca.a,{className:o},r.a.createElement(q.a,{className:s},r.a.createElement("img",{className:u,src:"/skull-and-crossbones.png",alt:"game-over-icon"}),r.a.createElement(q.a,{my:3},r.a.createElement(Y.a,{className:d,variant:"h3",align:"center"},"Game over!"),"No"!==e.endGame.winner&&r.a.createElement(Y.a,{variant:"body1",align:"center"},e.endGame.gameOverText)),r.a.createElement(q.a,null,"No"!==e.endGame.winner?r.a.createElement(Y.a,{variant:"h3",className:p},e.endGame.winner," wins"):r.a.createElement(Y.a,{variant:"h3"},e.endGame.gameOverText)),r.a.createElement(q.a,{my:3},r.a.createElement(Y.a,{variant:"h3"},r.a.createElement(q.a,{variant:"span",display:"inline",className:f},e.blueScore.toString())," ",":"," ",r.a.createElement(q.a,{variant:"span",display:"inline",className:g},e.redScore.toString()))),r.a.createElement(q.a,null,c.id===t&&r.a.createElement(Ta,null))))))},Ga=Object(J.a)((function(e){return{Card:function(a){return{display:"flex",justifyContent:"center",alignItems:"center",background:e.white,cursor:a.clicked?"auto":"pointer",transition:"transform .2s","&:hover:not(.clicked)":{transform:"scale(1.2)"}}},Red:function(a){return{color:a.isSpyMaster?e.red.medium:e.grey.dark,"&.clicked":{background:"linear-gradient(45deg, ".concat(e.red.medium," 50%, ").concat(e.red.light," 85%)"),color:e.white}}},Blue:function(a){return{color:a.isSpyMaster?e.blue.medium:e.grey.dark,"&.clicked":{background:"linear-gradient(45deg, ".concat(e.blue.medium," 50%, ").concat(e.blue.light," 85%)"),color:e.white}}},Innocent:function(a){return{color:a.isSpyMaster?e.grey.mediumDark:e.grey.dark,"&.clicked":{background:e.grey.medium,color:e.grey.mediumDark}}},Assassin:{color:e.grey.dark}}})),Pa=function(e){var a=Ga(e),t=["".concat(a.Card)];return"red"===e.type?t.push("".concat(a.Red)):"blue"===e.type?t.push("".concat(a.Blue)):"innocent"===e.type?t.push("".concat(a.Innocent)):t.push("".concat(a.Assassin)),e.clicked&&t.push("clicked"),r.a.createElement(le.a,{onClick:function(){return e.selectCard(e.cardIndex)},className:t.join(" ")},r.a.createElement(Y.a,{variant:"h3"},e.word))};Pa.defaultProps={clicked:!1,isSpyMaster:!1};var Fa=Pa,La=Object(J.a)((function(e){return{Board:{width:"100%",height:"100%",position:"relative",top:"0",left:"0",background:e.grey.medium,padding:"4rem",display:"flex",flexFlow:"column"},BoardCards:{width:"100%",height:"100%",display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gridTemplateRows:"repeat(5, 1fr)",gap:"1rem"},BoardBottom:{paddingTop:"20px",display:"flex",justifyContent:"center"},Timer:function(a){return{color:a.timer<=10?e.red.medium:e.palette.primary.main}}}})),Wa=function(e){var a=La(e);return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{className:a.Board},"over"===e.gameStatus&&e.endGame&&r.a.createElement(Da,{redScore:e.redScore,blueScore:e.blueScore,endGame:e.endGame}),r.a.createElement(q.a,{className:a.BoardCards},e.board.map((function(a,t){return r.a.createElement(Fa,{isSpyMaster:e.isSpyMaster,key:t,cardIndex:t,word:a.word,type:a.type,clicked:a.clicked,selectCard:e.selectCard})}))),r.a.createElement(q.a,{className:a.BoardBottom},r.a.createElement(Y.a,{variant:"h1",className:a.Timer},"Time Left: ",e.timer))))};Wa.defaultProps={isSpyMaster:!1};var za=Wa,Ra=Object(J.a)((function(){return{Game:{width:"100vw",height:"100vh",display:"grid",gridTemplateAreas:"\n      'Gamebar Gamebar'\n      'Messenger Board'\n    ",gridTemplateColumns:"400px 1fr",gridTemplateRows:"12vh 88vh"},Gamebar:{gridArea:"Gamebar"},Messenger:{gridArea:"Messenger"},Board:{gridArea:"Board"},Snackbar:{fontSize:"2rem"}}})),Aa=function(e){var a=Ra(),t=Object(n.useState)(""),c=Object(i.a)(t,2),l=c[0],o=c[1],m=Object(n.useState)(""),s=Object(i.a)(m,2),u=s[0],d=s[1],p=Object(n.useState)([]),g=Object(i.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)([]),E=Object(i.a)(h,2),v=E[0],y=E[1],j=Object(n.useState)(!1),O=Object(i.a)(j,2),w=O[0],S=O[1],k=Object(n.useState)(""),N=Object(i.a)(k,2),C=N[0],T=N[1],B=Object(n.useState)(0),D=Object(i.a)(B,2),G=D[0],P=D[1],F=Object(n.useState)(0),L=Object(i.a)(F,2),W=L[0],z=L[1],R=Object(n.useState)({blue:{spyMaster:"",guesser:[]},red:{spyMaster:"",guesser:[]}}),A=Object(i.a)(R,2),H=A[0],U=A[1],q=Object(n.useState)({winner:"",gameOverTest:""}),Y=Object(i.a)(q,2),J=Y[0],$=Y[1],_=Object(n.useState)(60),K=Object(i.a)(_,2),Q=K[0],V=K[1],X=x(),Z=Object(i.a)(X,2),ee=Z[0],ae=Z[1],te=I(),ne=Object(i.a)(te,2)[1],re=M(),ce=Object(i.a)(re,2)[1],le=e.match.params.id;Object(n.useEffect)((function(){return Je.emit("init-game",{gameId:le},(function(e){console.log("Game State:",e),U(e.state.teamList),o(e.name),b(e.messages),y(e.state.board),z(e.state.blueTeam.points),P(e.state.redTeam.points),$(e.state.endGame);var a=e.state.redTeam.players,t=e.state.blueTeam.players,n=a.findIndex((function(a){return a.name===e.name})),r=t.findIndex((function(a){return a.name===e.name}));n>-1?(d("red"),"spy-master"===a[n].role&&S(!0)):r>-1&&(d("blue"),"spy-master"===t[r].role&&S(!0)),T(e.state.turn)})),Je.on("update-game",(function(e){console.log("Updated Game State:",e),ae(e.gameStatus),y(e.board),T(e.turn),P(e.redTeam.points),z(e.blueTeam.points),"over"===e.gameStatus&&$(e.endGame)})),Je.on("new-message",(function(e){b((function(a){return[].concat(Object(Oe.a)(a),[e])}))})),Je.on("tick",(function(e){V(e)})),Je.on("time-out",(function(){ce("Time out! Swapping turns..."),ne(!0)})),function(){ae("setup"),Je.off("new-message"),Je.off("tick"),Je.off("time-out"),Je.off("update-game")}}),[le,ae,ne,ce,$]);return r.a.createElement("div",{className:a.Game},r.a.createElement("div",{className:a.Gamebar},r.a.createElement(xa,{gameStatus:ee,currentTurn:C,redScore:G,blueScore:W,stopGame:function(){Je.emit("end-game",{gameId:le,winner:"none",method:"manual"})},isSpyMaster:w,teamList:H,history:e.history})),r.a.createElement("div",{className:a.Messenger},r.a.createElement(Na,{messages:f,sendMessage:function(e){var a={sender:l,message:e};Je.emit("message",{gameId:le,msgData:a})},name:l,isSpyMaster:w,isTurn:u===C,changeTurn:function(){Je.emit("change-turn",{gameId:le})},timeOut:0===Q})),r.a.createElement("div",{className:a.Board},r.a.createElement(za,{gameStatus:ee,board:v,isSpyMaster:w,redScore:G,blueScore:W,endGame:J,selectCard:function(e){u===C&&!0!==w&&!0!==v[e].clicked&&Je.emit("move",{gameId:le,currentTurn:C,cardIndex:e})},timer:Q})))},Ha=Object(J.a)((function(e){return{WaitingRoom:{width:"100%",height:"88vh",display:"grid",gridTemplateColumns:"400px 1fr",gridTemplateRows:"auto"}}})),Ua=function(e){var a=Ha(),t=x(),c=Object(i.a)(t,2),l=c[0],o=c[1],m=I(),s=Object(i.a)(m,2)[1],u=M(),d=Object(i.a)(u,2)[1],p=y(),g=Object(i.a)(p,1)[0],f=Object(n.useState)([]),h=Object(i.a)(f,2),E=h[0],v=h[1],j=b(),O=Object(i.a)(j,2)[1],w=k(),S=Object(i.a)(w,1)[0],N=e.match.params.id;Object(n.useEffect)((function(){Je.on("play-again",(function(e){console.log("Play-again:",e.players),o(e.gameStatus),O(1)}))}),[o,O]),Object(n.useEffect)((function(){Je.on("error",(function(){d("Game does not exist!"),s(!0),e.history.push("/")}))}),[e.history,d,s]),Object(n.useEffect)((function(){Je.on("update-roles",(function(e){console.log("socket-on-update-roles",e),o(e.gameStatus)}))}),[l,o]),Object(n.useEffect)((function(){Je.on("new-message",(function(e){v((function(a){return[].concat(Object(Oe.a)(a),[e])}))}))}),[]);return r.a.createElement("div",{className:a.WaitingRoom},"setup"===l?r.a.createElement(Na,{messages:E,sendMessage:function(e){var a={sender:S.name,message:e};Je.emit("message",{gameId:N,msgData:a})},name:S.name}):null,r.a.createElement("div",null,"setup"===l?S.id===g?r.a.createElement(va,{value:e}):r.a.createElement(ja,{value:e}):r.a.createElement(Aa,e)))},qa=t(233),Ya=t(96),Ja=t.n(Ya),$a=function(e){var a=k(),t=Object(i.a)(a,2),c=t[0],l=t[1],o=Object(n.useState)(""),m=Object(i.a)(o,2),s=m[0],u=m[1],d=function(){var a=Object(W.a)(L.a.mark((function a(t){var n;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.prev=1,a.next=4,H.a.post("/edit-profile/".concat(c.id),{name:s});case 4:(n=a.sent)&&(u(n.data.name),l((function(e){return Object(ma.a)(Object(ma.a)({},e),{},{name:n.data.name})}))),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),console.log(a.t0);case 11:e.closeDialog();case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}();return Object(n.useEffect)((function(){c&&u(c.name)}),[c]),r.a.createElement(ie.a,{open:e.open},r.a.createElement(de.a,null,e.title),r.a.createElement("form",{onSubmit:d},r.a.createElement(se.a,null,r.a.createElement(he.a,{variant:"outlined",InputLabelProps:{shrink:!0},label:"Name:",type:"text",id:"name",name:"name",placeholder:"Enter your name here",value:s,onChange:function(e){return u(e.target.value)}})),r.a.createElement(me.a,null,r.a.createElement(K.a,{type:"submit",color:"primary",autoFocus:!0},"Submit"))))},_a=Object(J.a)((function(e){return{root:{paddingTop:e.spacing(5)},card:{width:"70%",height:"70vh",margin:"0 auto",padding:e.spacing(4)},heading:{textAlign:"center",fontSize:"2rem"},divider:{border:"5px solid ".concat(e.palette.primary.main),marginTop:e.spacing(1),width:"30%",margin:"0 auto"},avatar:{width:"100%",height:"100%"},editIcon:{},fileInput:{display:"none"},userDetails:{paddingLeft:e.spacing(2)},imageDialog:{minWidth:"30vw",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between"},updateUrlBtn:{margin:"0 1rem"}}})),Ka=function(){var e=k(),a=Object(i.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(!1),o=Object(i.a)(l,2),m=o[0],s=o[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),p=d[0],g=d[1],f=Object(n.useState)(null),b=Object(i.a)(f,2),h=b[0],E=b[1],v=Object(n.useState)(""),y=Object(i.a)(v,2),j=y[0],O=y[1],x=function(){var e=Object(W.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(W.a)(L.a.mark((function e(a){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(a.target.files[0]);case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),S=function(){var e=Object(W.a)(L.a.mark((function e(){var a,n,r,l,o;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=13;break}return(a=new FormData).append("profileImage",h,h.name),e.prev=3,e.next=6,H.a.post("/edit-profile/".concat(t.id),a);case 6:(n=e.sent)&&(r=n.data,l=r.location,o=r.token,localStorage.setItem("token",o),O(l),c((function(e){return Object(ma.a)(Object(ma.a)({},e),{},{profileImageLocation:l})})),s(!1)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){t&&O(t.profileImageLocation)}),[t]);var N=_a();return r.a.createElement(oe.a,{className:N.root},r.a.createElement(le.a,{className:N.card},r.a.createElement(q.a,{width:"50%",mx:"auto"},r.a.createElement(Y.a,{component:"h3",className:N.heading},"Profile Settings"),r.a.createElement(Re.a,{className:N.divider})),r.a.createElement(q.a,{mx:"auto",mt:"2rem"},r.a.createElement(Ge.a,{container:!0,direction:"row",justify:"center"},r.a.createElement(Ge.a,{item:!0,xs:6},r.a.createElement(q.a,{width:200,height:200,mx:"auto"},r.a.createElement(_.a,{alt:"abc",src:j||"",className:N.avatar}),r.a.createElement(q.a,{onClick:function(){return s(!0)},textAlign:"center",mt:2},r.a.createElement(K.a,{variant:"outlined",color:"primary"},r.a.createElement(Ja.a,{color:"primary",className:N.editIcon}),"Profile Photo")))),r.a.createElement(Ge.a,{item:!0,xs:6},r.a.createElement(q.a,{className:N.userDetails},r.a.createElement(Ne.a,null,r.a.createElement(xe.a,null,r.a.createElement(Y.a,null,r.a.createElement("strong",null,"Name:")," ",t?t.name:"Not available"),r.a.createElement(K.a,{color:"primary",onClick:function(){return g(!0)}},r.a.createElement(Ja.a,{className:N.editIcon}))),r.a.createElement(xe.a,null,r.a.createElement(Y.a,null,r.a.createElement("strong",null,"Email:")," ",t?t.email:"Not available")))))))),r.a.createElement(ie.a,{open:m,onClose:x},r.a.createElement(de.a,null,"Change Photo"),r.a.createElement(se.a,{className:N.imageDialog},r.a.createElement("form",null,r.a.createElement(qa.a,{type:"file",name:"profileImage",id:"input-file",onChange:w,className:N.fileInput}),r.a.createElement(K.a,{htmlFor:"input-file",component:"label",color:"secondary"},h?h.name:"Select File"),r.a.createElement(K.a,{variant:"contained",component:"button",color:"primary",onClick:S,className:N.uploadImage},"Upload"))),r.a.createElement(me.a,null,r.a.createElement(K.a,{onClick:x,color:"primary",autoFocus:!0},"Done"))),r.a.createElement($a,{open:p,closeDialog:function(){g(!1)},title:"Edit Name"}))},Qa=t(142),Va=t.n(Qa),Xa=function(){var e=k(),a=Object(i.a)(e,2)[1],t=Object(n.useState)(!0),c=Object(i.a)(t,2),l=c[0],o=c[1],m=function(){var e=Object(W.a)(L.a.mark((function e(t){var n,r,c,l,o,i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.a.get("/profile/".concat(t.id));case 3:n=e.sent,r=n.data,c=r.id,l=r.email,o=r.name,i=r.profileImageLocation,a({id:c,email:l,name:o,profileImageLocation:i}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){(function(){var e=Object(W.a)(L.a.mark((function e(){var t,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(t=Va.a.get("token"))){e.next=8;break}return H.a.defaults.headers.common.Authorization="Bearer ".concat(t),n=Object(U.a)(t),e.next=6,m(n);case 6:e.next=10;break;case 8:a(null),delete H.a.defaults.headers.common.Authorization;case 10:o(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),!l&&r.a.createElement(z.a,null,r.a.createElement(te,null),r.a.createElement(R.d,null,r.a.createElement(R.b,{exact:!0,path:"/register",component:ve}),r.a.createElement(R.b,{exact:!0,path:"/login",component:je}),r.a.createElement(re,{exact:!0,path:"/edit-profile",component:Ka}),r.a.createElement(re,{exact:!0,path:"/:id",component:Ua}),r.a.createElement(R.b,{exact:!0,path:"/",component:ge})),r.a.createElement(ce,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(j,null,r.a.createElement(w,null,r.a.createElement(N,null,r.a.createElement(B,null,r.a.createElement(o.a,{theme:P},r.a.createElement(Xa,null)))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[159,1,2]]]);
//# sourceMappingURL=main.85620e6f.chunk.js.map